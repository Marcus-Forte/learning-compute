cmake_minimum_required(VERSION 3.10)
project(compute)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
if(CMAKE_CUDA_COMPILER)
enable_language(CUDA)
set(CMAKE_CUDA_ARCHITECTURES 75) # Change accordingly.
add_executable(compute_cu src/compute.cu)
endif()

find_package(OpenCL)
if(${OpenCL_FOUND})
    message(STATUS "Compiling OpenCL app")
    find_package(Boost REQUIRED)
    add_executable(compute_cl src/compute.cc)
    target_link_libraries(compute_cl OpenCL::OpenCL)
endif()